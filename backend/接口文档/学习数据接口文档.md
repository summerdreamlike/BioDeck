# 多媒体教学平台 - 学习数据接口文档

## 目录

- [1. 提交学习数据](#1-提交学习数据)
- [2. 获取学生学习数据](#2-获取学生学习数据)
- [3. 获取学生知识点分析](#3-获取学生知识点分析)
- [4. 提交练习结果](#4-提交练习结果)
- [5. 获取错题本](#5-获取错题本)

---

## 1. 提交学习数据

**接口地址**: `POST /study/data`

**接口描述**: 学生提交学习数据

**权限要求**: student

**请求参数**:
```json
{
  "question_id": "题目ID",
  "is_correct": "是否答对(true/false)",
  "time_spent": "用时(秒)",
  "answer": "学生答案"
}
```

**成功响应**:
```json
{
  "success": true,
  "message": "学习数据提交成功",
  "data": {
    "id": 1,
    "message": "学习数据提交成功"
  }
}
```

## 2. 获取学生学习数据

**接口地址**: `GET /study/data/{student_id}`

**接口描述**: 获取指定学生的学习数据

**权限要求**: 学生本人或admin、teacher

**路径参数**:
- `student_id`: 学生ID

**查询参数**:
- `start_date`: 开始日期（YYYY-MM-DD）
- `end_date`: 结束日期（YYYY-MM-DD）
- `limit`: 限制数量（默认30）

**成功响应**:
```json
{
  "success": true,
  "message": "获取成功",
  "data": {
    "study_data": [
      {
        "id": 1,
        "question_id": 1,
        "is_correct": true,
        "time_spent": 30,
        "answer": "A",
        "created_at": "2024-01-01T12:00:00Z"
      }
    ]
  }
}
```

## 3. 获取学生知识点分析

**接口地址**: `GET /study/analysis/{student_id}`

**接口描述**: 获取学生的知识点掌握分析

**权限要求**: 学生本人或admin、teacher

**路径参数**:
- `student_id`: 学生ID

**成功响应**:
```json
{
  "success": true,
  "message": "获取成功",
  "data": {
    "knowledge_points": [
      {
        "point": "知识点名称",
        "accuracy": 0.85,
        "total_questions": 20,
        "correct_answers": 17
      }
    ]
  }
}
```

## 4. 提交练习结果

**接口地址**: `POST /study/practice/{student_id}`

**接口描述**: 提交练习结果

**权限要求**: 学生本人

**路径参数**:
- `student_id`: 学生ID

**请求参数**:
```json
{
  "question_id": "题目ID",
  "is_correct": "是否答对",
  "time_spent": "用时(秒)",
  "answer": "学生答案"
}
```

## 5. 获取错题本

**接口地址**: `GET /study/wrong-questions/{student_id}`

**接口描述**: 获取学生的错题本

**权限要求**: 学生本人或admin、teacher

**路径参数**:
- `student_id`: 学生ID

**成功响应**:
```json
{
  "success": true,
  "message": "获取成功",
  "data": [
    {
      "question_id": 1,
      "content": "题目内容",
      "wrong_count": 3,
      "last_wrong_at": "2024-01-01T12:00:00Z"
    }
  ]
}
``` 