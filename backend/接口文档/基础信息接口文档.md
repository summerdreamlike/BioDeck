# 多媒体教学平台 - 基础信息接口文档

## 目录

- [多媒体教学平台 - 基础信息接口文档](#多媒体教学平台---基础信息接口文档)
  - [目录](#目录)
  - [1. 基本信息](#1-基本信息)
  - [2. 认证机制](#2-认证机制)
    - [令牌类型](#令牌类型)
    - [认证流程](#认证流程)
    - [请求头格式](#请求头格式)
    - [用户角色](#用户角色)
  - [3. 通用响应格式](#3-通用响应格式)
    - [成功响应](#成功响应)
    - [错误响应](#错误响应)
    - [分页响应格式](#分页响应格式)
  - [4. 错误码定义](#4-错误码定义)

---

## 1. 基本信息

- **API 基础URL**: `http://localhost:5000/api/v1`
- **协议**: HTTP/HTTPS
- **数据格式**: JSON
- **字符编码**: UTF-8
- **API版本**: v1
- **运行环境**: Python 3.8+
- **部署说明**: 确保在backend目录下运行 `python app.py`

## 2. 认证机制

本系统采用JWT（JSON Web Token）进行用户认证。

### 令牌类型
- **Access Token**: 访问令牌，有效期1小时
- **Refresh Token**: 刷新令牌，有效期30天

### 认证流程
1. 用户登录获取access_token和refresh_token
2. 请求受保护的接口时，在Header中携带access_token
3. 当access_token过期时，使用refresh_token刷新获取新的access_token

### 请求头格式
```
Authorization: Bearer <access_token>
```

### 用户角色
- **admin**: 管理员，拥有所有权限
- **teacher**: 教师，拥有教学相关权限
- **student**: 学生，只能访问学习相关功能

## 3. 通用响应格式

### 成功响应
```json
{
  "success": true,
  "message": "操作成功",
  "data": {
    // 响应数据
  },
  "timestamp": "2024-01-01T12:00:00Z"
}
```

### 错误响应
```json
{
  "success": false,
  "message": "错误描述",
  "code": "ERROR_CODE",
  "data": null,
  "timestamp": "2024-01-01T12:00:00Z"
}
```

### 分页响应格式
```json
{
  "success": true,
  "message": "获取成功",
  "data": {
    "items": [],
    "total": 100,
    "page": 1,
    "page_size": 20,
    "total_pages": 5
  },
  "timestamp": "2024-01-01T12:00:00Z"
}
```

## 4. 错误码定义

| 错误码 | 描述 |
|--------|------|
| VALIDATION_ERROR | 参数验证错误 |
| AUTHENTICATION_FAILED | 认证失败 |
| AUTHORIZATION_FAILED | 授权失败 |
| RESOURCE_NOT_FOUND | 资源未找到 |
| RESOURCE_ALREADY_EXISTS | 资源已存在 |
| OPERATION_FAILED | 操作失败 |
| SERVER_ERROR | 服务器内部错误 | 