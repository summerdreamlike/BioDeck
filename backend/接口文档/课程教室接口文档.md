# 多媒体教学平台 - 课程教室接口文档

## 目录

- [1. 获取课程列表](#1-获取课程列表)
- [2. 获取课程详情](#2-获取课程详情)
- [3. 获取直播课程](#3-获取直播课程)
- [4. 创建课程](#4-创建课程)
- [5. 更新课程](#5-更新课程)
- [6. 删除课程](#6-删除课程)
- [7. 添加学生到课程](#7-添加学生到课程)
- [8. 从课程中移除学生](#8-从课程中移除学生)
- [9. 获取课程的学生列表](#9-获取课程的学生列表)
- [10. 发送课程消息](#10-发送课程消息)
- [11. 获取课程消息](#11-获取课程消息)

---

## 1. 获取课程列表

**接口地址**: `GET /classroom/courses`

**接口描述**: 获取课程列表，支持分页和筛选

**权限要求**: 需要登录

**查询参数**:
- `page`: 页码（默认1）
- `page_size`: 每页大小（默认10）
- `teacher_id`: 教师ID筛选
- `title`: 课程标题搜索
- `status`: 课程状态筛选

**成功响应**:
```json
{
  "success": true,
  "message": "获取成功",
  "data": {
    "items": [
      {
        "id": 1,
        "title": "数学基础课程",
        "teacher_id": 1,
        "teacher_name": "张老师",
        "start_time": "2024-01-01T09:00:00Z",
        "end_time": "2024-01-01T10:30:00Z",
        "status": "active",
        "poster_url": "海报图片URL",
        "video_url": "视频URL",
        "created_at": "2024-01-01T08:00:00Z"
      }
    ],
    "total": 50,
    "page": 1,
    "page_size": 10,
    "total_pages": 5
  }
}
```

## 2. 获取课程详情

**接口地址**: `GET /classroom/courses/{course_id}`

**接口描述**: 获取指定课程的详细信息

**权限要求**: 需要登录

**路径参数**:
- `course_id`: 课程ID

**成功响应**:
```json
{
  "success": true,
  "message": "获取成功",
  "data": {
    "id": 1,
    "title": "数学基础课程",
    "teacher_id": 1,
    "teacher_name": "张老师",
    "start_time": "2024-01-01T09:00:00Z",
    "end_time": "2024-01-01T10:30:00Z",
    "status": "active",
    "poster_url": "海报图片URL",
    "video_url": "视频URL",
    "description": "课程描述",
    "created_at": "2024-01-01T08:00:00Z"
  }
}
```

## 3. 获取直播课程

**接口地址**: `GET /classroom/live`

**接口描述**: 获取当前正在直播的课程列表

**权限要求**: 无需认证

**成功响应**:
```json
{
  "success": true,
  "message": "获取成功",
  "data": [
    {
      "id": 1,
      "title": "数学基础课程",
      "teacher_name": "张老师",
      "start_time": "2024-01-01T09:00:00Z",
      "end_time": "2024-01-01T10:30:00Z",
      "video_url": "直播视频URL"
    }
  ]
}
```

## 4. 创建课程

**接口地址**: `POST /classroom/courses`

**接口描述**: 创建新课程

**权限要求**: admin、teacher

**请求参数**:
```json
{
  "title": "课程标题",
  "start_time": "开始时间(ISO格式)",
  "end_time": "结束时间(ISO格式)",
  "poster_url": "海报图片URL(可选)",
  "video_url": "视频URL(可选)"
}
```

**成功响应**:
```json
{
  "success": true,
  "message": "课程创建成功",
  "data": {
    "id": 1,
    "title": "数学基础课程",
    "teacher_id": 1,
    "start_time": "2024-01-01T09:00:00Z",
    "end_time": "2024-01-01T10:30:00Z",
    "created_at": "2024-01-01T08:00:00Z"
  }
}
```

## 5. 更新课程

**接口地址**: `PUT /classroom/courses/{course_id}`

**接口描述**: 更新课程信息

**权限要求**: 课程创建者或admin

**路径参数**:
- `course_id`: 课程ID

**请求参数**: 同创建课程

**成功响应**:
```json
{
  "success": true,
  "message": "课程更新成功",
  "data": {
    "id": 1,
    "title": "数学基础课程(更新)",
    "start_time": "2024-01-01T09:00:00Z",
    "end_time": "2024-01-01T10:30:00Z",
    "updated_at": "2024-01-01T08:30:00Z"
  }
}
```

## 6. 删除课程

**接口地址**: `DELETE /classroom/courses/{course_id}`

**接口描述**: 删除课程

**权限要求**: 课程创建者或admin

**路径参数**:
- `course_id`: 课程ID

**成功响应**:
```json
{
  "success": true,
  "message": "课程删除成功"
}
```

## 7. 添加学生到课程

**接口地址**: `POST /classroom/courses/{course_id}/students`

**接口描述**: 将学生添加到指定课程

**权限要求**: 课程创建者或admin

**路径参数**:
- `course_id`: 课程ID

**请求参数**:
```json
{
  "student_id": "学生ID"
}
```

**成功响应**:
```json
{
  "success": true,
  "message": "学生已添加到课程"
}
```

## 8. 从课程中移除学生

**接口地址**: `DELETE /classroom/courses/{course_id}/students/{student_id}`

**接口描述**: 从课程中移除指定学生

**权限要求**: 课程创建者或admin

**路径参数**:
- `course_id`: 课程ID
- `student_id`: 学生ID

**成功响应**:
```json
{
  "success": true,
  "message": "学生已从课程中移除"
}
```

## 9. 获取课程的学生列表

**接口地址**: `GET /classroom/courses/{course_id}/students`

**接口描述**: 获取指定课程的学生列表

**权限要求**: 需要登录

**路径参数**:
- `course_id`: 课程ID

**成功响应**:
```json
{
  "success": true,
  "message": "获取成功",
  "data": [
    {
      "id": 1,
      "name": "张三",
      "student_id": "2024001",
      "joined_at": "2024-01-01T09:00:00Z"
    }
  ]
}
```

## 10. 发送课程消息

**接口地址**: `POST /classroom/courses/{course_id}/messages`

**接口描述**: 在课程中发送消息

**权限要求**: 课程成员（学生、教师、管理员）

**路径参数**:
- `course_id`: 课程ID

**请求参数**:
```json
{
  "message": "消息内容"
}
```

**成功响应**:
```json
{
  "success": true,
  "message": "消息发送成功",
  "data": {
    "id": 1,
    "course_id": 1,
    "sender_id": 1,
    "sender_name": "张老师",
    "message": "消息内容",
    "created_at": "2024-01-01T09:15:00Z"
  }
}
```

## 11. 获取课程消息

**接口地址**: `GET /classroom/courses/{course_id}/messages`

**接口描述**: 获取课程的消息列表

**权限要求**: 课程成员（学生、教师、管理员）

**路径参数**:
- `course_id`: 课程ID

**成功响应**:
```json
{
  "success": true,
  "message": "获取成功",
  "data": [
    {
      "id": 1,
      "course_id": 1,
      "sender_id": 1,
      "sender_name": "张老师",
      "message": "消息内容",
      "created_at": "2024-01-01T09:15:00Z"
    }
  ]
}
``` 